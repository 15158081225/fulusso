(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"8oxB":function(n,t,e){n.exports=e("hNoW")(10)},S5C5:function(n,t,e){"use strict";e.d(t,"c",function(){return i}),e.d(t,"b",function(){return u});var r=window.configs.host,a=r.api,c=r.common,u=function(n){var t=new RegExp("(^|&)".concat(n,"=([^&]*)(&|$)")),e=window.location.search.substr(1).match(t);return null!=e?unescape(e[2]):null},i=function(){var n=u("ReturnUrl");window.location.href=n||"".concat(c,"/connect/authorize/callback?client_id=10000001&redirect_uri=").concat(encodeURIComponent(window.location.origin),"&response_type=code&scope=api&state=STATE")};t.a=function(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"".concat(t?c:a).concat(n)}},on7z:function(n,t,e){"use strict";e.d(t,"b",function(){return o});e("q5v/");var r=e("QpBz"),a=e.n(r),c=e("vDqi"),u=e.n(c),i=function(){a.a.error("授权失败，请重新登录"),setTimeout(function(){localStorage.removeItem("access_token"),window.location.href="/login.html"},1e3)};"/login.html"===window.location.pathname&&(u.a.defaults.withCredentials=!0),u.a.defaults.timeout=3e4,u.a.defaults.headers.post["Content-Type"]="application/json",u.a.interceptors.request.use(function(n){return n.url.endsWith("api/User/GetUserInfo")&&(n.headers.Authorization="Bearer ".concat(localStorage.getItem("access_token"))),n},function(n){return Promise.reject(n)}),u.a.interceptors.response.use(function(n){return n.data},function(n){if(n.response){switch(n.response.status){case 400:a.a.error("请求参数（data）格式错误（".concat(n.config.method+n.config.url,"）"));break;case 401:"/"!==window.location.pathname&&"/userCenter.html"!==window.location.pathname&&i();break;case 504:case 403:i();break;case 404:a.a.error("请求 URL 格式错误（".concat(n.config.url,"）"));break;case 405:a.a.error("请求 Method 格式错误（".concat(n.config.url,"）"));break;case 406:a.a.error("请求 Content-Type 格式错误（".concat(n.config.url,"）"));break;case 408:a.a.warning("请求超时（".concat(n.config.url,"）"))}/^5\d{2}$/g.test(n.response.status)&&a.a.error("服务错误！")}else n.message&&(n.message==="timeout of ".concat(n.config.timeout,"ms exceeded")&&a.a.warning("请求超时，请刷新页面重新请求！"),"Network Error"===n.message&&a.a.error("请求错误！"));return Promise.reject(n)});var o=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];u.a.defaults.withCredentials=n};t.a=u.a},unnO:function(n,t,e){"use strict";t.a="0"},xHVb:function(n,t,e){"use strict";e.r(t);var r=e("lqSq"),a=e.n(r);e.d(t,"LoadingOutline",function(){return a.a});var c=e("Yl09"),u=e.n(c);e.d(t,"QuestionCircleFill",function(){return u.a});var i=e("iWfQ"),o=e.n(i);e.d(t,"EyeFill",function(){return o.a});var s=e("shmK"),f=e.n(s);e.d(t,"EyeInvisibleFill",function(){return f.a});var d=e("s+Hp"),p=e.n(d);e.d(t,"InfoCircleFill",function(){return p.a});var h=e("GL5x"),l=e.n(h);e.d(t,"CheckCircleFill",function(){return l.a});var v=e("+UKt"),w=e.n(v);e.d(t,"CloseCircleFill",function(){return w.a});var m=e("CIdh"),b=e.n(m);e.d(t,"ExclamationCircleFill",function(){return b.a});var y=e("4ZCQ"),g=e.n(y);e.d(t,"CloseOutline",function(){return g.a});var k=e("3t5J"),C=e.n(k);e.d(t,"PlusOutline",function(){return C.a});var O=e("c4ZL"),U=e.n(O);e.d(t,"SearchOutline",function(){return U.a})},xd5V:function(n,t,e){"use strict";e.r(t);var r={};e.r(r),e.d(r,"fetchUser",function(){return v}),e.d(r,"fetchAccessToken",function(){return w}),e.d(r,"fetchThirdPartyBind",function(){return m}),e.d(r,"fetchUserIp",function(){return b}),e.d(r,"sendSmsCode",function(){return y}),e.d(r,"unbindThirdParty",function(){return g}),e.d(r,"sendCodeToNewPhone",function(){return k}),e.d(r,"signOut",function(){return C}),e.d(r,"validateUser",function(){return O}),e.d(r,"changePwd",function(){return U}),e.d(r,"changePhone",function(){return x}),e.d(r,"fetchQrCode",function(){return P}),e.d(r,"bindApp",function(){return S}),e.d(r,"unBindApp",function(){return j}),e.d(r,"sendKey",function(){return N}),e.d(r,"changeValidateMode",function(){return T});var a=e("o0o1"),c=e.n(a),u=(e("q5v/"),e("QpBz")),i=e.n(u),o=e("lSNA"),s=e.n(o),f=e("yXPU"),d=e.n(f),p=e("unnO"),h=e("on7z"),l=e("S5C5");function v(){return h.a.get(Object(l.a)("/api/User/GetUserInfo"))}function w(n){return h.a.post(Object(l.a)("/api/authorization_code"),n)}function m(){return h.a.get(Object(l.a)("/api/User/GetBindList"))}function b(){return h.a.get(Object(l.a)("/api/User/GetUserIpInfo"))}function y(n){return h.a.post(Object(l.a)("/api/SmsCode/SendCode"),n)}function g(n){return h.a.post(Object(l.a)("/api/User/Unbind"),n)}function k(n){return h.a.post(Object(l.a)("/api/SmsCode/Send"),n)}function C(){return h.a.post(Object(l.a)("/api/User/SignOut"))}function O(n){return h.a.post(Object(l.a)("/api/User/Validate"),n)}function U(n){return h.a.post(Object(l.a)("/api/User/ChangePwd"),n)}function x(n){return h.a.post(Object(l.a)("/api/User/ChangePhone"),n)}function P(){return h.a.get(Object(l.a)("/api/QrCode/Generate"))}function S(n){return h.a.post(Object(l.a)("/api/QrCode/Binding"),n)}function j(n){return h.a.post(Object(l.a)("/api/QrCode/UnBinding"),n)}function N(n){return h.a.post(Object(l.a)("/api/QrCode/SendKey"),n)}function T(n){return h.a.post(Object(l.a)("/api/User/ChangeValidatePriority"),n)}var B=function(){var n=d()(c.a.mark(function n(t,e){var a,u,o,f,d,h,l,v,w,m,b;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a=e.effectName,u=e.dataKey,o=e.payload,f=void 0===o?{}:o,d=e.showError,h=void 0===d||d,l=e.loadStatusKey,v=void 0===l?"loading":l,w=e.callback,t.setStore(s()({},v,!0)),m=s()({},v,!1),n.prev=3,n.next=6,r[a](f);case 6:return(b=n.sent)&&(b.code===p.a&&(u&&(m[u]=b.data),"function"==typeof w&&Object.assign(m,w.call(t))),b.code!==p.a&&h&&b.message&&i.a.error(b.message)),n.abrupt("return",b);case 9:return n.prev=9,t.setStore(m),n.finish(9);case 12:case"end":return n.stop()}},n,null,[[3,,9,12]])}));return function(t,e){return n.apply(this,arguments)}}();function K(){var n=this.getStore("user");return{user:Object.assign({},n,{binding_status:0===n.binding_status?1:0})}}t.default={namespace:"userCenter",state:{user:null,thirdPartyBind:[],userIp:null,loading:!1,validate:null,smsLoading:!1},effects:{updateStore:function(n){this.setStore(n)},fetchUser:function(){var n=d()(c.a.mark(function n(){return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",B(this,{effectName:"fetchUser",dataKey:"user"}));case 1:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),fetchThirdPartyBind:function(){var n=d()(c.a.mark(function n(){return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",B(this,{effectName:"fetchThirdPartyBind",dataKey:"thirdPartyBind"}));case 1:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),fetchUserIp:function(){var n=d()(c.a.mark(function n(){return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",B(this,{effectName:"fetchUserIp",dataKey:"userIp"}));case 1:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),fetchAccessToken:function(){var n=d()(c.a.mark(function n(t){return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",B(this,{effectName:"fetchAccessToken",dataKey:"accessToken",payload:t}));case 1:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),sendSmsCode:function(){var n=d()(c.a.mark(function n(t){return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",B(this,{effectName:"sendSmsCode",payload:t,loadStatusKey:"smsLoading",showError:!1}));case 1:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),sendCodeToNewPhone:function(){var n=d()(c.a.mark(function n(t){return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",B(this,{effectName:"sendCodeToNewPhone",payload:t,loadStatusKey:"smsLoading"}));case 1:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),validateUser:function(){var n=d()(c.a.mark(function n(t){return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",B(this,{effectName:"validateUser",dataKey:"validate",payload:t}));case 1:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),changePwd:function(){var n=d()(c.a.mark(function n(t){return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",B(this,{effectName:"changePwd",payload:t}));case 1:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),changePhone:function(){var n=d()(c.a.mark(function n(t){return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",B(this,{effectName:"changePhone",payload:t,callback:function(){var n=this.getStore("user"),e="".concat(t.phone.slice(0,3),"****").concat(t.phone.slice(7));return{user:Object.assign({},n,{cellphone:e})}}}));case 1:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),fetchQrCode:function(){var n=d()(c.a.mark(function n(t){return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",B(this,{effectName:"fetchQrCode",dataKey:"qrCode",payload:t}));case 1:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),bindApp:function(){var n=d()(c.a.mark(function n(t){return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",B(this,{effectName:"bindApp",payload:t,callback:K}));case 1:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),unbindThirdParty:function(){var n=d()(c.a.mark(function n(t){var e=this;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",B(this,{effectName:"unbindThirdParty",payload:t,callback:function(){return{thirdPartyBind:(e.getStore("thirdPartyBind")||[]).filter(function(n){return n!==t.provider})}}}));case 1:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),unBindApp:function(){var n=d()(c.a.mark(function n(t){return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",B(this,{effectName:"unBindApp",payload:t,callback:K}));case 1:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),sendKey:function(){var n=d()(c.a.mark(function n(t){var e;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,N(t);case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}(),signOut:function(){var n=d()(c.a.mark(function n(){var t;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,C();case 2:return t=n.sent,n.abrupt("return",t);case 4:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}(),changeValidateMode:function(){var n=d()(c.a.mark(function n(t){return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",B(this,{effectName:"changeValidateMode",dataKey:"validateMode",payload:t,callback:function(){var n=this.getStore("user");return{user:Object.assign({},n,{validateModePriority:t.validateModePriority})}}}));case 1:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}()}}}}]);